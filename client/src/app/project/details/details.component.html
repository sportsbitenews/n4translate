<!-- <div style="padding: 16px;">
  <pre style="margin: 0px;">{{ project | json }}</pre>
</div> -->

<md-card *ngIf="project" style="margin: 12px;">
  <md-card-title fxLayout="row" fxLayoutAlign="start center">
    <md-icon style="margin-right: 12px;">folder</md-icon> {{ project.name }}
  </md-card-title>

  <md-card-content>
    <div fxLayout="row">
      <div style="margin-top: 16px;">
        <md-select placeholder="Reflang" [(ngModel)]="project.reflang" name="reflang" (change)="updateRefLang($event)">
          <md-option *ngFor="let translationLang of getLangs()" [value]="translationLang">
            {{translationLang}}
          </md-option>
        </md-select>
      </div>

      <div fxFlex style="margin-left: 32px;" fxLayout="row" fxLayoutAlign="start center">
        <!-- <md-card-subtitle>Dog Breed</md-card-subtitle> -->
        <div fxLayout="row" fxLayoutAlign="start center">
          <md-chip-list *ngIf="project">
            <md-chip *ngFor="let translation of project.translations"
              (click)="selectTranslation(translation)"
              style="margin: 4px;"
              selected="{{ isSelectTranslation(translation) }}">
                {{ translation.lang }}
            </md-chip>
          </md-chip-list>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" style="margin-top: 12px; margin-left: 12px;">
          <md-input-container style="margin-right: 12px;">
            <input mdInput [(ngModel)]="lang" placeholder="Lang">
          </md-input-container>

          <input #upload style="display: none;" type="file" (change)="onChange($event)"/>

          <div fxLayout="row" fxLayoutAlign="start center">
            <button md-raised-button md-icon-button (click)="upload.click()" style="margin-right: 12px;" mdTooltip="Import" disabled="{{ invalidLang() }}">
              <md-icon>file_upload</md-icon>
            </button>

            <button md-raised-button md-icon-button (click)="appendTranslationToProject()" style="margin-right: 12px;" mdTooltip="Create" disabled="{{ invalidLang() }}">
              <md-icon>add</md-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </md-card-content>
</md-card>

<md-card style="margin: 12px;" *ngIf="selectedTranslation">
  <md-card-title fxLayout="row" fxLayoutAlign="start center">
    <md-icon style="margin-right: 12px;">translate</md-icon> {{ selectedTranslation.lang }}
  </md-card-title>

  <md-card-content>
    <i18n-project-translation [hidden]="!content" [content]="content"></i18n-project-translation>
  </md-card-content>

  <md-card-actions fxLayout="row" fxLayoutAlign="end center">
    <button md-button (click)="saveContent()">
      Save <md-icon>save</md-icon>
    </button>

    <a #exportTarget style="display:none"></a>

    <button md-button (click)="export(exportTarget)">
      Export <md-icon>file_download</md-icon>
    </button>
  </md-card-actions>
</md-card>
